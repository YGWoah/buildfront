(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{465:function(e,t,n){e.exports=n.p+"static/media/UpVotedBlack.4470e6a8.svg"},466:function(e,t,n){e.exports=n.p+"static/media/UpVotedBlue.64b95137.svg"},467:function(e,t,n){e.exports=n.p+"static/media/reply.e9f41363.svg"},469:function(e,t,n){"use strict";(function(e){var a=n(2),r=n.n(a),c=n(8),o=n(3),s=n(1),l=n.n(s),u=n(0),i=n.n(u),f=(n(467),n(465)),p=n.n(f),m=n(466),d=n.n(m),b=n(11),E=n(470);t.a=function(t){l.a.defaults.withCredentials=!0;var n=Object(u.useRef)(null),a=Object(u.useRef)(null),s=Object(u.useState)(),f=Object(o.a)(s,2),m=f[0],v=f[1],y=Object(u.useState)(t.pic),g=Object(o.a)(y,2),j=g[0],O=g[1],h=function(){var n=Object(c.a)(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.post("/post/getposterimageprofile",{postID:t.postID},{responseType:"arraybuffer"}).then(function(t){var n=e.from(t.data,"binary").toString("base64");O("data:image/png;base64,"+n)}).catch(function(e){console.log(e)});case 2:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),w=function(){var n=Object(c.a)(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.post("/post/getpostimage",{postID:t.postID},{responseType:"arraybuffer"}).then(function(t){var n=e.from(t.data,"binary").toString("base64");v("data:image/png;base64,"+n)});case 2:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),N=Object(u.useRef)(),x=new IntersectionObserver(function(e){var t,n=Object(o.a)(e,1)[0];(t=n)&&t.isIntersecting&&(h(),w(),x.unobserve(N.current))},{root:null,threshold:1});return Object(u.useEffect)(function(){x.observe(N.current)},[]),i.a.createElement("div",{className:"post",ref:N},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(b.b,{to:"/profile/".concat(t.name)},i.a.createElement("div",null,i.a.createElement("img",{src:j,alt:"Profile"})),i.a.createElement("div",null,i.a.createElement("h5",null,t.name),i.a.createElement("p",null,t.role?"Student":"Teacher")))),t.isMyProfile?i.a.createElement(E.a,{postRef:N,postID:t.postID}):i.a.createElement("div",{onClick:function(){"Up voted"!=a.current.textContent?(n.current.src=d.a,a.current.textContent="Up voted",a.current.style.color="#1E53CF",console.log(a.current)):(n.current.src=p.a,a.current.textContent="Up vote",a.current.style.color="#000000",console.log(a.current))}},i.a.createElement("img",{src:p.a,alt:"",ref:n}),i.a.createElement("p",{ref:a},"Up vote"))),i.a.createElement("div",null,i.a.createElement("p",null,t.content)),i.a.createElement("div",null,i.a.createElement("img",{src:m,onError:function(e){return e.target.style.display="none"}})),i.a.createElement("div",null,i.a.createElement(b.b,{to:"/post/".concat(t.postID)},i.a.createElement("p",null,"See more"))))}}).call(this,n(28).Buffer)},470:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(1),o=n.n(c);t.a=function(e){var t=Object(a.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){t.current.style.display="flex"}},r.a.createElement("p",null,"Delete Post")),r.a.createElement("section",{className:"delete-warning",ref:t},r.a.createElement("p",null,"Are you sure you want to delete the post ?"),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){o.a.post("/post/deletepost",{postID:e.postID}).then(function(t){e.postRef.current.style.display="none"})}},"Delete"),r.a.createElement("button",{onClick:function(){t.current.style.display="none"}},"Cancel"))))}},472:function(e,t,n){e.exports=n.p+"static/media/profile_img.f52b2b91.png"},473:function(e,t,n){},484:function(e,t,n){},485:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(0),o=n.n(c),s=n(84);t.a=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(c.useRef)();return Object(s.a)(e,a),Object(s.a)(n,a),o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"deleteAccount",ref:a},o.a.createElement("button",{onClick:function(){e.current.style.display="flex"}},"Delete My Account"),o.a.createElement("div",{ref:e,className:"deleteWarning"},o.a.createElement("p",null,"Are you sure you want to delete your entire account ?"),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){e.current.style.display="none",n.current.style.display="flex"}},"Delete"),o.a.createElement("button",{onClick:function(){e.current.style.display="none",n.current.style.display="flex"}},"Cancel"))),o.a.createElement("div",{ref:n,className:"confirm"},o.a.createElement("p",null,"confirm your password :"),o.a.createElement("div",null,o.a.createElement("input",{type:"password",placeholder:"password",ref:t,onKeyUp:function(e){"Enter"==e.key&&(r.a.post("/api/deleteacount",{password:"non"}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),n.current.style.display="none")}})))))}},498:function(e,t,n){"use strict";n.r(t),function(e){var a=n(2),r=n.n(a),c=n(8),o=n(3),s=n(0),l=n.n(s),u=(n(472),n(469)),i=(n(484),n(473),n(1)),f=n.n(i),p=n(13),m=n(4),d=n(485);t.default=function(t){f.a.defaults.withCredentials=!0;var n=Object(m.g)().userName,a=Object(p.c)(function(e){return e.userInfo.userName}),i=Object(s.useState)(!0),b=Object(o.a)(i,2),E=b[0],v=b[1],y=Object(s.useState)(!0),g=Object(o.a)(y,2),j=g[0],O=g[1];Object(s.useEffect)(function(){n&&(a=n,v(!1))},[]),console.log();var h=Object(s.useRef)(null),w=Object(s.useRef)(null),N=Object(s.useRef)(null),x=Object(s.useState)(),C=Object(o.a)(x,2),k=C[0],D=C[1],I=Object(s.useState)({postLoaded:!1,posts:[]}),R=Object(o.a)(I,2),S=R[0],T=R[1],U=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/post/allposts",{params:{userName:a}}).then(function(e){console.log(e),T({postLoaded:!0,posts:e.data.result})}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),L=function(){var t=Object(c.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("/api/getprofilepic",{userName:a},{responseType:"arraybuffer"}).then(function(t){console.log(t);var n=e.from(t.data,"binary").toString("base64");D("data:image/png;base64,"+n)}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),P=function(){f.a.get("/api/allinfo",{params:{userName:a,isMyProfile:E}}).then(function(e){var t=e.data.result;h.current.innerText=t.firstName+" "+t.lastName,w.current.innerText=t.bio,N.current.innerText=t.firstName+" Posts",t.isContact&&O(!0)}).catch(function(e){T({postLoaded:!0,posts:[{content:"Erorr please try again"}]})})};return Object(s.useEffect)(function(){T({postLoaded:!1,posts:[]}),U(),L(),P()},[Object(m.g)()]),Object(s.useEffect)(function(){U(),L(),P()},[]),l.a.createElement("div",{className:"whole-profile"},l.a.createElement("div",{className:"infos-profile"},l.a.createElement("img",{src:k,className:"picprof"}),l.a.createElement("div",{className:"name-infos"},l.a.createElement("h5",{className:"name",ref:h}),l.a.createElement("span",{className:"job"},"Student"),l.a.createElement("p",{className:"user"},"@",a),l.a.createElement("p",{className:"bio",ref:w})),E?l.a.createElement(d.a,null):j?l.a.createElement("a",{className:"btn-ac"},"remove from contact"):l.a.createElement("a",{className:"btn-ac"},"Add to contact")),l.a.createElement("h5",{className:"heading title",ref:N}),l.a.createElement("div",{className:"posts"},S.postLoaded?S.posts.map(function(e){return l.a.createElement(u.a,{image:k,name:a,content:e.content,role:"Student",postID:e.postID,isMyProfile:E})}):"Loading ...."))}}.call(this,n(28).Buffer)}}]);
//# sourceMappingURL=4.c9115256.chunk.js.map
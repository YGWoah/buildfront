(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{465:function(e,t,n){e.exports=n.p+"static/media/UpVotedBlack.4470e6a8.svg"},466:function(e,t,n){e.exports=n.p+"static/media/UpVotedBlue.64b95137.svg"},467:function(e,t,n){e.exports=n.p+"static/media/reply.e9f41363.svg"},468:function(e,t,n){e.exports=n.p+"static/media/profprofile.f7155223.png"},469:function(e,t,n){"use strict";(function(e){var a=n(2),r=n.n(a),c=n(8),s=n(3),o=n(1),l=n.n(o),u=n(0),i=n.n(u),f=(n(467),n(465)),m=n.n(f),p=n(466),d=n.n(p),E=n(11),b=n(470);t.a=function(t){l.a.defaults.withCredentials=!0;var n=Object(u.useRef)(null),a=Object(u.useRef)(null),o=Object(u.useState)(),f=Object(s.a)(o,2),p=f[0],v=f[1],h=Object(u.useState)(t.pic),g=Object(s.a)(h,2),j=g[0],O=g[1],N=function(){var n=Object(c.a)(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.post("/post/getposterimageprofile",{postID:t.postID},{responseType:"arraybuffer"}).then(function(t){var n=e.from(t.data,"binary").toString("base64");O("data:image/png;base64,"+n)}).catch(function(e){console.log(e)});case 2:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),y=function(){var n=Object(c.a)(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.post("/post/getpostimage",{postID:t.postID},{responseType:"arraybuffer"}).then(function(t){var n=e.from(t.data,"binary").toString("base64");v("data:image/png;base64,"+n)});case 2:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),x=Object(u.useRef)(),w=new IntersectionObserver(function(e){var t,n=Object(s.a)(e,1)[0];(t=n)&&t.isIntersecting&&(N(),y(),w.unobserve(x.current))},{root:null,threshold:1});return Object(u.useEffect)(function(){w.observe(x.current)},[]),i.a.createElement("div",{className:"post",ref:x},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(E.b,{to:"/profile/".concat(t.name)},i.a.createElement("div",null,i.a.createElement("img",{src:j,alt:"Profile"})),i.a.createElement("div",null,i.a.createElement("h5",null,t.name),i.a.createElement("p",null,t.role?"Student":"Teacher")))),t.isMyProfile?i.a.createElement(b.a,{postRef:x,postID:t.postID}):i.a.createElement("div",{onClick:function(){"Up voted"!=a.current.textContent?(n.current.src=d.a,a.current.textContent="Up voted",a.current.style.color="#1E53CF",console.log(a.current)):(n.current.src=m.a,a.current.textContent="Up vote",a.current.style.color="#000000",console.log(a.current))}},i.a.createElement("img",{src:m.a,alt:"",ref:n}),i.a.createElement("p",{ref:a},"Up vote"))),i.a.createElement("div",null,i.a.createElement("p",null,t.content)),i.a.createElement("div",null,i.a.createElement("img",{src:p,onError:function(e){return e.target.style.display="none"}})),i.a.createElement("div",null,i.a.createElement(E.b,{to:"/post/".concat(t.postID)},i.a.createElement("p",null,"See more"))))}}).call(this,n(28).Buffer)},470:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(1),s=n.n(c);t.a=function(e){var t=Object(a.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){t.current.style.display="flex"}},r.a.createElement("p",null,"Delete Post")),r.a.createElement("section",{className:"delete-warning",ref:t},r.a.createElement("p",null,"Are you sure you want to delete the post ?"),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){s.a.post("/post/deletepost",{postID:e.postID}).then(function(t){e.postRef.current.style.display="none"})}},"Delete"),r.a.createElement("button",{onClick:function(){t.current.style.display="none"}},"Cancel"))))}},471:function(e,t,n){e.exports=n.p+"static/media/arrowUp.d094aa23.svg"},476:function(e,t,n){"use strict";(function(e){var a=n(2),r=n.n(a),c=n(8),s=n(3),o=n(0),l=n.n(o),u=(n(489),n(1)),i=n.n(u),f=n(11);t.a=function(t){i.a.defaults.withCredentials=!0;var n=Object(o.useState)(),a=Object(s.a)(n,2),u=a[0],m=a[1],p=function(){var n=Object(c.a)(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.post("/contact/contactprofileimage",{userName:t.result.userName},{responseType:"arraybuffer"}).then(function(t){var n=e.from(t.data,"binary").toString("base64");m("data:image/png;base64,"+n)}).catch(function(e){console.log(e)});case 2:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/contact/addcontact",{contact2UserName:t.result.userName}).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(function(){p()},[]),l.a.createElement("div",{className:"contain flexing"},l.a.createElement("div",{className:"lefted ppl-result"},l.a.createElement("img",{src:u}),l.a.createElement("div",{className:"name-role "},l.a.createElement("h3",{className:"name "},t.result.name),l.a.createElement("p",{className:"job"},"Teacher"))),t.result.iscontact?l.a.createElement(f.b,{className:"see-profile",to:"/profile/".concat(t.result.userName)},"See Profile"):l.a.createElement("a",{className:"btn-add-to",onClick:d},"Add to contact "))}}).call(this,n(28).Buffer)},489:function(e,t,n){},490:function(e,t,n){},491:function(e,t,n){e.exports=n.p+"static/media/arrowDown.20b359de.svg"},492:function(e,t,n){"use strict";(function(e){n(2),n(8),n(3),n(1),n(0),n(11)}).call(this,n(28).Buffer)},502:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(8),s=n(3),o=n(0),l=n.n(o),u=n(476),i=n(131),f=n(469),m=(n(490),n(468)),p=n.n(m),d=(n(491),n(471)),E=n.n(d),b=n(4),v=(n(122),n(143),n(232),n(144),n(13),n(492),n(1)),h=n.n(v),g=function(e){var t=Object(o.useState)(!0),n=Object(s.a)(t,2),a=n[0],r=n[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"headit flexit",onClick:function(){r(!a)}},l.a.createElement("h3",{className:"heading mince"},"People"),l.a.createElement("img",{src:E.a,className:"plus toRotate ".concat(a?"rotate":"")})),a&&l.a.createElement("div",null,e.result.map(function(e){return l.a.createElement(u.a,{result:e,profile:p.a})})))},j=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"headit flexit",onClick:function(){r(!a)}},l.a.createElement("h3",{className:"heading mince"},"Posts"),l.a.createElement("img",{src:E.a,className:"plus toRotate ".concat(a?"rotate":"")})),a&&l.a.createElement("div",null,e.result.map(function(t){return l.a.createElement(f.a,{name:t.userName,content:t.content,postID:t.postID,profile:e.profile})})))},O=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"headit flexit",onClick:function(){r(!a)}},l.a.createElement("h3",{className:"heading mince"},"Courses"),l.a.createElement("img",{src:E.a,className:"plus toRotate ".concat(a?"rotate":"")})),a&&l.a.createElement("div",null,e.result.map(function(e){return l.a.createElement(i.a,{userName:e.userName,name:e.userName,module:e.className,title:e.pdfName,text:e.content})})))};t.default=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=(t[0],t[1],Object(o.useState)({people:[],posts:[],course:[]})),a=Object(s.a)(n,2),u=a[0],i=a[1],f=Object(b.g)().searched,m=Object(o.useRef)(Object(b.g)().searched);Object(o.useEffect)(function(){m.current=f},[Object(b.g)()]);var d=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i([]),e.next=3,h.a.get("/search/search",{params:{serched:m.current}}).then(function(e){i(e.data.result)});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(function(){d()},[Object(b.g)()]),Object(o.useEffect)(function(){d()},[]),l.a.createElement("div",{className:"b-search"},l.a.createElement("h5",{className:"heading"},"Search result of ",m.current),l.a.createElement("div",{className:"results"},u.people&&l.a.createElement(g,{result:u.people}),u.posts&&l.a.createElement(j,{result:u.posts,profile:p.a}),u.course&&l.a.createElement(O,{result:u.course,profile:p.a})))}}}]);
//# sourceMappingURL=3.7abf460f.chunk.js.map
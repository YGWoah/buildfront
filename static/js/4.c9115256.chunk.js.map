{"version":3,"sources":["assets/UpVotedBlack.svg","assets/UpVotedBlue.svg","assets/reply.svg","Compenents/Post.js","Compenents/profileSubCompenents/DeletePost.js","assets/profile_img.png","Compenents/profileSubCompenents/DeleteAcount.js","Compenents/Profile.js"],"names":["module","exports","__webpack_require__","p","Post","props","axios","defaults","withCredentials","upVoteimg","useRef","upVotep","_useState","useState","_useState2","Object","_home_yg_Desktop_DevFolders_netlify_front_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","postImage","setPostImage","_useState3","pic","_useState4","profileImg","setProfileImg","getProfileImage","_ref","_home_yg_Desktop_DevFolders_netlify_front_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_yg_Desktop_DevFolders_netlify_front_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","wrap","_context","prev","next","post","postID","responseType","then","resp","base64ImageString","Buffer","from","data","toString","catch","err","console","log","stop","apply","this","arguments","getImage","_ref2","_callee2","_context2","res","observer","IntersectionObserver","_ref3","entry","entery","isIntersecting","unobserve","current","root","threshold","useEffect","observe","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","className","ref","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","to","concat","name","src","alt","role","isMyProfile","_profileSubCompenents_DeletePost__WEBPACK_IMPORTED_MODULE_9__","postRef","onClick","textContent","upVotedBlue","style","color","upVotedBlack","content","onError","event","target","display","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","axios__WEBPACK_IMPORTED_MODULE_1__","axios__WEBPACK_IMPORTED_MODULE_1___default","DeletePost","deleteWarning","Fragment","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","_GlobalSubCompenents_useOutsideCom__WEBPACK_IMPORTED_MODULE_2__","DeleteAcount","password","confirm","deleteAccountRef","useOutsideCom","type","placeholder","onKeyUp","e","key","Profile","userName","useParams","useSelector","userInfo","setIsMyProfile","isContact","setIsContact","Name","bio","pos","_useState5","_useState6","profilePic","setProfilePic","_useState7","postLoaded","posts","_useState8","setPosts","getPosts","get","params","result","getprofilepic","getAllInfo","innerText","firstName","lastName","react__WEBPACK_IMPORTED_MODULE_3___default","_profileSubCompenents_DeleteAcount__WEBPACK_IMPORTED_MODULE_11__","map","_Post__WEBPACK_IMPORTED_MODULE_5__","image"],"mappings":"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","file":"static/js/4.c9115256.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/UpVotedBlack.4470e6a8.svg\";","module.exports = __webpack_public_path__ + \"static/media/UpVotedBlue.64b95137.svg\";","module.exports = __webpack_public_path__ + \"static/media/reply.e9f41363.svg\";","import axios from 'axios';\nimport React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport reply from '../assets/reply.svg';\nimport upVotedBlack from '../assets/UpVotedBlack.svg';\nimport upVotedBlue from '../assets/UpVotedBlue.svg';\nimport { Link } from 'react-router-dom';\nimport DeletePost from './profileSubCompenents/DeletePost';\n\nconst SERVER = 'http://localhost:3001';\n\nconst Post = (props) => {\n  axios.defaults.withCredentials = true;\n  const upVoteimg = useRef(null);\n  const upVotep = useRef(null);\n  const [postImage, setPostImage] = useState();\n  const [profileImg, setProfileImg] = useState(props.pic);\n  const handleUpVote = () => {\n    if (upVotep.current.textContent != 'Up voted') {\n      upVoteimg.current.src = upVotedBlue;\n      upVotep.current.textContent = 'Up voted';\n      upVotep.current.style.color = '#1E53CF';\n      console.log(upVotep.current);\n    } else {\n      upVoteimg.current.src = upVotedBlack;\n      upVotep.current.textContent = 'Up vote';\n      upVotep.current.style.color = '#000000';\n      console.log(upVotep.current);\n    }\n  };\n\n  const getProfileImage = async () => {\n    await axios\n      .post(\n        `/post/getposterimageprofile`,\n        { postID: props.postID },\n        { responseType: 'arraybuffer' }\n      )\n      .then((resp) => {\n        let base64ImageString = Buffer.from(\n          resp.data,\n          'binary'\n        ).toString('base64');\n        setProfileImg('data:image/png;base64,' + base64ImageString);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const getImage = async () => {\n    await axios\n      .post(\n        `/post/getpostimage`,\n        { postID: props.postID },\n        { responseType: 'arraybuffer' }\n      )\n      .then((res) => {\n        let base64ImageString = Buffer.from(\n          res.data,\n          'binary'\n        ).toString('base64');\n        setPostImage('data:image/png;base64,' + base64ImageString);\n      });\n  };\n  const deletePost = () => {\n    axios\n      .post('/post/deletepost', {\n        postID: props.postID,\n      })\n      .then((res) => {\n        post.current.style.display = 'none';\n      });\n  };\n  let options = {\n    root: null,\n    threshold: 1.0,\n  };\n  let post = useRef();\n  const callBack = (entry) => {\n    if (entry && entry.isIntersecting) {\n      getProfileImage();\n      getImage();\n      observer.unobserve(post.current);\n    }\n  };\n  let observer = new IntersectionObserver(([entery]) => {\n    callBack(entery);\n  }, options);\n\n  useEffect(() => {\n    observer.observe(post.current);\n  }, []);\n\n  return (\n    <div className=\"post\" ref={post}>\n      <div>\n        <div>\n          <Link to={`/profile/${props.name}`}>\n            <div>\n              <img src={profileImg} alt=\"Profile\" />\n            </div>\n            <div>\n              <h5>{props.name}</h5>\n              <p>{props.role ? 'Student' : 'Teacher'}</p>\n            </div>\n          </Link>\n        </div>\n        {props.isMyProfile ? (\n          <DeletePost postRef={post} postID={props.postID} />\n        ) : (\n          <div onClick={handleUpVote}>\n            <img src={upVotedBlack} alt=\"\" ref={upVoteimg} />\n            <p ref={upVotep}>Up vote</p>\n          </div>\n        )}\n      </div>\n      <div>\n        <p>{props.content}</p>\n      </div>\n      <div>\n        <img\n          src={postImage}\n          onError={(event) => (event.target.style.display = 'none')}\n        />\n      </div>\n      <div>\n        <Link to={`/post/${props.postID}`}>\n          <p>See more</p>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React, { useRef } from 'react';\nimport axios from 'axios';\nconst DeletePost = (props) => {\n  let deleteWarning = useRef();\n\n  const deletePost = () => {\n    axios\n      .post('/post/deletepost', {\n        postID: props.postID,\n      })\n      .then((res) => {\n        props.postRef.current.style.display = 'none';\n      });\n  };\n  return (\n    <React.Fragment>\n      <div\n        onClick={() => {\n          deleteWarning.current.style.display = 'flex';\n        }}\n      >\n        <p>Delete Post</p>\n      </div>\n      <section className=\"delete-warning\" ref={deleteWarning}>\n        <p>Are you sure you want to delete the post ?</p>\n        <div>\n          <button onClick={deletePost}>Delete</button>\n          <button\n            onClick={() => {\n              deleteWarning.current.style.display = 'none';\n            }}\n          >\n            Cancel\n          </button>\n        </div>\n      </section>\n    </React.Fragment>\n  );\n};\n\nexport default DeletePost;\n","module.exports = __webpack_public_path__ + \"static/media/profile_img.f52b2b91.png\";","import axios from 'axios';\nimport React, { useRef, useState } from 'react';\nimport useOutsideCom from '../GlobalSubCompenents/useOutsideCom';\n\nconst DeleteAcount = () => {\n  const deleteWarning = useRef();\n  const password = useRef();\n  const confirm = useRef();\n  const deleteAccountRef = useRef();\n  const deleteAccount = () => {\n    axios\n      .post('/api/deleteacount', { password: 'non' })\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  useOutsideCom(deleteWarning, deleteAccountRef);\n  useOutsideCom(confirm, deleteAccountRef);\n\n  return (\n    <React.Fragment>\n      <section className=\"deleteAccount\" ref={deleteAccountRef}>\n        <button\n          onClick={() => {\n            deleteWarning.current.style.display = 'flex';\n          }}\n        >\n          Delete My Account\n        </button>\n\n        <div ref={deleteWarning} className=\"deleteWarning\">\n          <p>Are you sure you want to delete your entire account ?</p>\n          <div>\n            <button\n              onClick={() => {\n                deleteWarning.current.style.display = 'none';\n                confirm.current.style.display = 'flex';\n              }}\n            >\n              Delete\n            </button>\n            <button\n              onClick={() => {\n                deleteWarning.current.style.display = 'none';\n                confirm.current.style.display = 'flex';\n              }}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n\n        <div ref={confirm} className=\"confirm\">\n          <p>confirm your password :</p>\n          <div>\n            <input\n              type=\"password\"\n              placeholder=\"password\"\n              ref={password}\n              onKeyUp={(e) => {\n                if (e.key == 'Enter') {\n                  deleteAccount();\n                  confirm.current.style.display = 'none';\n                }\n              }}\n            />\n          </div>\n        </div>\n      </section>\n    </React.Fragment>\n  );\n};\n\nexport default DeleteAcount;\n","import React, { useEffect, useRef } from 'react';\r\nimport profile_img from '../assets/profile_img.png';\r\nimport Post from './Post';\r\nimport './styles/Profile/profilestyle.css';\r\nimport './styles/Post/postStyle.css';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport DeleteAcount from './profileSubCompenents/DeleteAcount';\r\n\r\nconst SERVER = 'http://localhost:3001';\r\n\r\nconst Profile = (props) => {\r\n  axios.defaults.withCredentials = true;\r\n  let { userName } = useParams();\r\n  let name = useSelector((data) => data.userInfo.userName);\r\n  const [isMyProfile, setIsMyProfile] = useState(true);\r\n  const [isContact, setIsContact] = useState(true);\r\n  useEffect(() => {\r\n    if (userName) {\r\n      name = userName;\r\n      setIsMyProfile(false);\r\n    }\r\n  }, []);\r\n  console.log();\r\n  const Name = useRef(null);\r\n  const bio = useRef(null);\r\n  const pos = useRef(null);\r\n  const [profilePic, setProfilePic] = useState();\r\n  const [posts, setPosts] = useState({\r\n    postLoaded: false,\r\n    posts: [],\r\n  });\r\n  const getPosts = async () => {\r\n    await axios\r\n      .get(`/post/allposts`, { params: { userName: name } })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setPosts({ postLoaded: true, posts: res.data.result });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const getprofilepic = async () => {\r\n    await axios\r\n      .post(\r\n        `/api/getprofilepic`,\r\n        { userName: name },\r\n        { responseType: 'arraybuffer' }\r\n      )\r\n      .then((res) => {\r\n        console.log(res);\r\n        let base64ImageString = Buffer.from(\r\n          res.data,\r\n          'binary'\r\n        ).toString('base64');\r\n\r\n        setProfilePic('data:image/png;base64,' + base64ImageString);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const getAllInfo = () => {\r\n    axios\r\n      .get(`/api/allinfo`, {\r\n        params: { userName: name, isMyProfile: isMyProfile },\r\n      })\r\n      .then((res) => {\r\n        let result = res.data.result;\r\n        Name.current.innerText =\r\n          result.firstName + ' ' + result.lastName;\r\n        bio.current.innerText = result.bio;\r\n        pos.current.innerText = result.firstName + ' Posts';\r\n        if (result.isContact) {\r\n          setIsContact(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setPosts({\r\n          postLoaded: true,\r\n          posts: [{ content: 'Erorr please try again' }],\r\n        });\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    setPosts({\r\n      postLoaded: false,\r\n      posts: [],\r\n    });\r\n    getPosts();\r\n    getprofilepic();\r\n    getAllInfo();\r\n  }, [useParams()]);\r\n  useEffect(() => {\r\n    getPosts();\r\n    getprofilepic();\r\n    getAllInfo();\r\n  }, []);\r\n  return (\r\n    <div className=\"whole-profile\">\r\n      <div className=\"infos-profile\">\r\n        <img src={profilePic} className=\"picprof\" />\r\n        <div className=\"name-infos\">\r\n          <h5 className=\"name\" ref={Name}></h5>\r\n          <span className=\"job\">{'Student'}</span>\r\n          <p className=\"user\">@{name}</p>\r\n          <p className=\"bio\" ref={bio}></p>\r\n        </div>\r\n        {isMyProfile ? (\r\n          <DeleteAcount />\r\n        ) : isContact ? (\r\n          <a className=\"btn-ac\">remove from contact</a>\r\n        ) : (\r\n          <a className=\"btn-ac\">Add to contact</a>\r\n        )}\r\n      </div>\r\n      <h5 className=\"heading title\" ref={pos}></h5>\r\n      <div className=\"posts\">\r\n        {posts.postLoaded\r\n          ? posts.posts.map((post) => {\r\n              return (\r\n                <Post\r\n                  image={profilePic}\r\n                  name={name}\r\n                  content={post.content}\r\n                  role={'Student'}\r\n                  postID={post.postID}\r\n                  isMyProfile={isMyProfile}\r\n                />\r\n              );\r\n            })\r\n          : 'Loading ....'}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"sourceRoot":""}
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{472:function(e,t,a){e.exports=a.p+"static/media/profile_img.f52b2b91.png"},482:function(e,t,a){},483:function(e,t,a){e.exports=a.p+"static/media/addPic.df68f50f.svg"},497:function(e,t,a){"use strict";a.r(t),function(e){var n=a(2),r=a.n(n),c=a(8),u=a(3),s=a(0),i=a.n(s),l=(a(472),a(482),a(483)),o=a.n(l),p=a(1),f=a.n(p),m=a(13);t.default=function(){var t=Object(m.c)(function(e){return e.userInfo.userName});f.a.defaults.withCredentials=!0;var a=Object(s.useState)({preview:void 0}),n=Object(u.a)(a,2),l=n[0],p=n[1],d=Object(s.useState)(""),v=Object(u.a)(d,2),b=v[0],h=v[1],N=Object(s.useRef)(null),g=Object(s.useRef)(null),w=Object(s.useRef)(null),E=Object(s.useRef)(null),j=Object(s.useRef)(null),y=Object(s.useRef)(),O=Object(s.useRef)(),x=Object(s.useRef)(),R=function(){var a=Object(c.a)(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.post("/contact/contactprofileimage",{userName:t},{responseType:"arraybuffer"}).then(function(t){console.log(t);var a=e.from(t.data,"binary").toString("base64");p({data:void 0,preview:"data:image/png;base64,"+a})}).catch(function(e){console.log(e)});case 2:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),k=function(e){e.current.style.borderColor="green",setTimeout(function(){e.current.style.borderColor=""},2e3)},C=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E.current.value!=j.current.value){e.next=3;break}return e.next=3,f.a.post("/api/updatepassword",{password:E.current.value}).then(function(e){e.data.succes&&(E.current.value="",j.current.value="")});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new FormData).append("file",l.data),t.append("imgname",b),E.current.value&&C(),!l.data){e.next=7;break}return e.next=7,f.a.post("/api/updateprofilepic",t,{headers:{"Content-Type":"multipart/form-data"}});case 7:N.current.value!=y.current&&f.a.post("/api/updateFirstName",{firstName:N.current.value}).then(function(e){e.data.succes&&(y.current=N.current.value,k(N))}),g.current.value!=O.current&&f.a.post("/api/updateLastName",{lastName:g.current.value}).then(function(e){e.data.succes&&(O.current=g.current.value,k(g))}),w.current.value!=x.current&&f.a.post("/api/updatebio",{bio:w.current.value}).then(function(){x.current=w.current.value,k(w)});case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)(function(){R(),f.a.get("/api/allinfo").then(function(e){var t=e.data.result;y.current=t.firstName,O.current=t.lastName,x.current=t.bio,N.current.value=t.firstName,g.current.value=t.lastName,w.current.value=t.bio})},[]),i.a.createElement("form",{className:"maxx"},i.a.createElement("h5",{className:"heading"},"Settings"),i.a.createElement("div",{className:"info"},i.a.createElement("div",{className:"image"},i.a.createElement("img",{src:l.preview,className:"changePic"}),i.a.createElement("label",{htmlFor:"inputTag"},i.a.createElement("img",{src:o.a,className:"vectup"}),i.a.createElement("input",{id:"inputTag",type:"file",onChange:function(e){var t={preview:URL.createObjectURL(e.target.files[0]),data:e.target.files[0]};p(t),h(e.target.files[0].name)}}))),i.a.createElement("div",{className:"both"},i.a.createElement("input",{type:"text",placeholder:"First Name",className:"infos",ref:N}),i.a.createElement("input",{type:"text",placeholder:"Last Name",className:"infos",ref:g})),i.a.createElement("div",{className:"both"},i.a.createElement("input",{type:"password",ref:E,placeholder:"Password",className:"infos"}),i.a.createElement("input",{type:"password",ref:j,placeholder:"Verify Password",className:"infos"})),i.a.createElement("div",{className:"both"},i.a.createElement("textarea",{placeholder:"Biography",className:"bio",ref:w})),i.a.createElement("div",{className:"both-btn"},i.a.createElement("input",{type:"reset",name:"cancel",value:"Cancel",className:"btn-nostroke"}),i.a.createElement("input",{type:"button",name:"save",value:"Save Changes",onClick:S,className:"btn"}))))}}.call(this,a(28).Buffer)}}]);
//# sourceMappingURL=10.016692e7.chunk.js.map